
<!DOCTYPE html>

<html class="no-js" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<meta content="A MkDocs project to help you build a portfolio of your progress towards becoming an IT, IS, or CS professional." name="description"/>
<meta content="Trevor Hartman" name="author"/>
<link href="Chapter_6.html" rel="prev"/>
<link href="../CIS-18/week_1.html" rel="next"/>
<link href="../assets/images/favicon.ico" rel="icon"/>
<meta content="mkdocs-1.4.2, mkdocs-material-9.0.13" name="generator"/>
<title>Structured Query Language - THartmanOfTheRedwoods Wiki</title>
<link href="../assets/stylesheets/main.ffa9267a.min.css" rel="stylesheet"/>
<link href="../assets/stylesheets/palette.a0c5b2b5.min.css" rel="stylesheet"/>
<link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
<link href="https://fonts.googleapis.com/css?family=Roboto+Slab:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&amp;display=fallback" rel="stylesheet"/>
<style>:root{--md-text-font:"Roboto+Slab";--md-code-font:"Roboto+Mono"}</style>
<link href="../css/mode.css" rel="stylesheet"/>
<script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<link href="../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
            html.glightbox-open { overflow: initial; height: 100%; }
            .gslide-title { margin-top: 0px; user-select: text; }
            .gslide-desc { color: #666; user-select: text; }
            .gslide-image img { background: white; }
            
                .gscrollbar-fixer { padding-right: 15px; }
                .gdesc-inner { font-size: 0.75rem; }
                body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
                body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
                body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}
                </style><script src="../assets/javascripts/glightbox.min.js"></script></head>
<body data-md-color-accent="red" data-md-color-primary="red" data-md-color-scheme="slate" dir="ltr">
<script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#structured-query-language-sql">
          Skip to content
        </a>
</div>
<div data-md-component="announce">
</div>
<div data-md-color-scheme="default" data-md-component="outdated" hidden="">
</div>
<header class="md-header md-header--lifted" data-md-component="header">
<nav aria-label="Header" class="md-header__inner md-grid">
<a aria-label="THartmanOfTheRedwoods Wiki" class="md-header__button md-logo" data-md-component="logo" href="../index.html" title="THartmanOfTheRedwoods Wiki">
<img alt="logo" src="../assets/images/simple_sign_logo_64.png"/>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            THartmanOfTheRedwoods Wiki
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Structured Query Language
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="red" data-md-color-media="" data-md-color-primary="red" data-md-color-scheme="slate" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_2" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"></path></svg>
</label>
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="indigo" data-md-color-scheme="default" id="__palette_2" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"></path></svg>
</label>
</form>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="Search" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="Search" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"></path></svg>
</label>
<nav aria-label="Search" class="md-search__options">
<a aria-label="Share" class="md-search__icon md-icon" data-clipboard="" data-clipboard-text="" data-md-component="search-share" href="javascript:void(0)" tabindex="-1" title="Share">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"></path></svg>
</a>
<button aria-label="Clear" class="md-search__icon md-icon" tabindex="-1" title="Clear" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"></path></svg>
</button>
</nav>
<div class="md-search__suggest" data-md-component="search-suggest"></div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            Initializing search
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
</nav>
<nav aria-label="Tabs" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../index.html">
      Home
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../git/gitflow.html">
        Git
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../java/format_specifiers.html">
        Java
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../markdown-cheat-sheet.html">
      Markdown
    </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../tomcat/install.html">
        Tomcat
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../tux/os_command_map.html">
        Tux
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../vim/cheat-sheet.html">
        Vim
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../virtualbox/win11install.html">
        VirtualBox
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../windows/os_command_map.html">
        Windows
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../hardware/cables.html">
        Hardware
      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link md-tabs__link--active" href="../archive.html">
        Class Notes
      </a>
</li>
</ul>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Navigation" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="THartmanOfTheRedwoods Wiki" class="md-nav__button md-logo" data-md-component="logo" href="../index.html" title="THartmanOfTheRedwoods Wiki">
<img alt="logo" src="../assets/images/simple_sign_logo_64.png"/>
</a>
    THartmanOfTheRedwoods Wiki
  </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../index.html">
        Home
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Git
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
          Git
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../git/gitflow.html">
        Workflows
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Java
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
          Java
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../java/format_specifiers.html">
        Format Specifiers
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../java/operators.html">
        Operators
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../java/associativity.html">
        Operator Prcedence &amp; Associativity
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../markdown-cheat-sheet.html">
        Markdown
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
          Tomcat
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
          Tomcat
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../tomcat/install.html">
        Install
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Tux
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
          Tux
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../tux/os_command_map.html">
        Command Cheatsheet
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../tux/imagemagick.html">
        ImageMagick
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../tux/pandoc.html">
        Pandoc
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../tux/parallel.html">
        Parallel
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../tux/ssh.html">
        SSH
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../tux/tesseract.html">
        Tesseract
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
          Vim
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
          Vim
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../vim/cheat-sheet.html">
        Cheatsheet
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
          VirtualBox
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_8_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
          VirtualBox
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../virtualbox/win11install.html">
        Install
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_9" type="checkbox"/>
<label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
          Windows
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_9_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_9">
<span class="md-nav__icon md-icon"></span>
          Windows
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../windows/os_command_map.html">
        Command Cheatsheet
      </a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_9_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_9_2" id="__nav_9_2_label" tabindex="0">
          Network
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_9_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_9_2">
<span class="md-nav__icon md-icon"></span>
          Network
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../windows/network/arp.html">
        Arp
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../windows/network/nbtstat.html">
        Nbtstat
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../windows/network/netstat.html">
        Netstat
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../windows/network/ping.html">
        Ping
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../windows/network/ipconfig.html">
        Ipconfig
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../windows/network/net.html">
        Net
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../windows/network/nslookup.html">
        Nslookup
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../windows/network/tracert.html">
        Tracert
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_10" type="checkbox"/>
<label class="md-nav__link" for="__nav_10" id="__nav_10_label" tabindex="0">
          Hardware
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_10_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_10">
<span class="md-nav__icon md-icon"></span>
          Hardware
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../hardware/cables.html">
        Cables
      </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_11" type="checkbox"/>
<label class="md-nav__link" for="__nav_11" id="__nav_11_label" tabindex="0">
          Class Notes
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_11_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_11">
<span class="md-nav__icon md-icon"></span>
          Class Notes
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../archive.html">
        Index
      </a>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_11_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_11_2" id="__nav_11_2_label" tabindex="0">
          CIS-50
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_11_2_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_11_2">
<span class="md-nav__icon md-icon"></span>
          CIS-50
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="Chapter_1.html">
        Database Systems
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="Chapter_2.html">
        Data Models
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="Chapter_3.html">
        The Relational Database Model
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="joins_ns.html">
        Joins
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="Chapter_4.html">
        Entity Relationship Modeling
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="Chapter_6.html">
        Normalization
      </a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<label class="md-nav__link md-nav__link--active" for="__toc">
          Structured Query Language
          <span class="md-nav__icon md-icon"></span>
</label>
<a class="md-nav__link md-nav__link--active" href="Chapter_7.html">
        Structured Query Language
      </a>
<nav aria-label="Sub-Menu" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Sub-Menu
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#structured-query-language-sql">
    Structured Query Language (SQL)
  </a>
<nav aria-label="Structured Query Language (SQL)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#criteria-for-an-ideal-db-language-which-sql-is">
    Criteria for an ideal DB Language, which SQL is!
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#categories-of-sql">
    Categories of SQL
  </a>
<nav aria-label="Categories of SQL" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#queries-and-operations">
    Queries and Operations
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#intro-to-data-types">
    Intro to Data Types
  </a>
<nav aria-label="Intro to Data Types" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#3-fundamental-types-of-data">
    3 Fundamental Types of Data
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#retrieval-select-query">
    Retrieval (SELECT Query)
  </a>
<nav aria-label="Retrieval (SELECT Query)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-terms">
    Basic Terms
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-structure">
    Basic Structure
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#examples">
    Examples
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#other-notes">
    Other Notes
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#joining">
    Joining
  </a>
<nav aria-label="Joining" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-terms_1">
    Basic Terms
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-structure_1">
    Basic Structure
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#examples_1">
    Examples
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#sort-searchrestriction-criteria">
    Sort, Search/Restriction Criteria
  </a>
<nav aria-label="Sort, Search/Restriction Criteria" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-terms_2">
    Basic Terms
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-structure_2">
    Basic Structure
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#examples_2">
    Examples
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#aggregation">
    Aggregation
  </a>
<nav aria-label="Aggregation" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-terms_3">
    Basic Terms
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-structure_3">
    Basic Structure
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#examples_3">
    Examples
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#subqueries-and-preprocessing">
    Subqueries and Preprocessing
  </a>
<nav aria-label="Subqueries and Preprocessing" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-characteristics">
    Basic Characteristics
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-terms_4">
    Basic Terms
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-structure_4">
    Basic Structure
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#examples_4">
    Examples
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#data-manipulation-functions">
    Data Manipulation Functions
  </a>
<nav aria-label="Data Manipulation Functions" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#common-function-types">
    Common Function Types
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#relational-set-operators">
    Relational Set Operators
  </a>
<nav aria-label="Relational Set Operators" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-terms_5">
    Basic Terms
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-structure_5">
    Basic Structure
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#examples_5">
    Examples
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#key-query-principles">
    Key Query Principles
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_11_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_11_3" id="__nav_11_3_label" tabindex="0">
          CIS-18
          <span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_11_3_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_11_3">
<span class="md-nav__icon md-icon"></span>
          CIS-18
        </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../CIS-18/week_1.html">
        Week 1 - Review
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../CIS-18/sprint.html">
        Sprint Planning
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../CIS-18/user_story_intro.html">
        User Story Into
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../CIS-18/user_story_lesson.html">
        User Story Lesson
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../CIS-18/week_2.html">
        Week 2 - Fundamental OOP Principles
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../CIS-18/oo_principles.html">
        Key OO Principles
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../CIS-18/week_3.html">
        Week 3 - Observer Design Pattern
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../CIS-18/week_4.html">
        Week 4 - Decorator Design Pattern
      </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../CIS-18/week_5.html">
        Week 5 - Factory Design Pattern
      </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="Sub-Menu" class="md-nav md-nav--secondary">
<label class="md-nav__title" for="__toc">
<span class="md-nav__icon md-icon"></span>
      Sub-Menu
    </label>
<ul class="md-nav__list" data-md-component="toc" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="#structured-query-language-sql">
    Structured Query Language (SQL)
  </a>
<nav aria-label="Structured Query Language (SQL)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#criteria-for-an-ideal-db-language-which-sql-is">
    Criteria for an ideal DB Language, which SQL is!
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#categories-of-sql">
    Categories of SQL
  </a>
<nav aria-label="Categories of SQL" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#queries-and-operations">
    Queries and Operations
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#intro-to-data-types">
    Intro to Data Types
  </a>
<nav aria-label="Intro to Data Types" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#3-fundamental-types-of-data">
    3 Fundamental Types of Data
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#retrieval-select-query">
    Retrieval (SELECT Query)
  </a>
<nav aria-label="Retrieval (SELECT Query)" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-terms">
    Basic Terms
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-structure">
    Basic Structure
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#examples">
    Examples
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#other-notes">
    Other Notes
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#joining">
    Joining
  </a>
<nav aria-label="Joining" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-terms_1">
    Basic Terms
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-structure_1">
    Basic Structure
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#examples_1">
    Examples
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#sort-searchrestriction-criteria">
    Sort, Search/Restriction Criteria
  </a>
<nav aria-label="Sort, Search/Restriction Criteria" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-terms_2">
    Basic Terms
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-structure_2">
    Basic Structure
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#examples_2">
    Examples
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#aggregation">
    Aggregation
  </a>
<nav aria-label="Aggregation" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-terms_3">
    Basic Terms
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-structure_3">
    Basic Structure
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#examples_3">
    Examples
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#subqueries-and-preprocessing">
    Subqueries and Preprocessing
  </a>
<nav aria-label="Subqueries and Preprocessing" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-characteristics">
    Basic Characteristics
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-terms_4">
    Basic Terms
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-structure_4">
    Basic Structure
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#examples_4">
    Examples
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#data-manipulation-functions">
    Data Manipulation Functions
  </a>
<nav aria-label="Data Manipulation Functions" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#common-function-types">
    Common Function Types
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#relational-set-operators">
    Relational Set Operators
  </a>
<nav aria-label="Relational Set Operators" class="md-nav">
<ul class="md-nav__list">
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-terms_5">
    Basic Terms
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#basic-structure_5">
    Basic Structure
  </a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#examples_5">
    Examples
  </a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="#key-query-principles">
    Key Query Principles
  </a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<h1>Structured Query Language</h1>
<h2 id="structured-query-language-sql">Structured Query Language (SQL)<a class="headerlink" href="#structured-query-language-sql" title="Permanent link">¶</a></h2>
<h3 id="criteria-for-an-ideal-db-language-which-sql-is">Criteria for an <strong>ideal</strong> DB Language, which SQL is!<a class="headerlink" href="#criteria-for-an-ideal-db-language-which-sql-is" title="Permanent link">¶</a></h3>
<ul>
<li>Create database and table structures, perform basic data management chores (CRUD)</li>
<li>Perform complex queries designed to transform raw data into useful information.</li>
<li>Require minimal user effort</li>
<li>Easy to learn<ul>
<li>Fewer than 100 words in command set</li>
<li>Declarative, NOT Procedural (i.e. you just declare what you want in SQL and the RDBMS figures out how to get/do your command).</li>
</ul>
</li>
<li>Portable<ul>
<li>ANSI/ISO SQL standard exist, so only minor dialect differences between competing DB Software manufacturers.</li>
</ul>
</li>
</ul>
<h3 id="categories-of-sql">Categories of SQL<a class="headerlink" href="#categories-of-sql" title="Permanent link">¶</a></h3>
<ul>
<li>Data Manipulation Language (DML): Manipulates data<ul>
<li>INSERT, SELECT, UPDATE, DELETE
<a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="chap07_01.png"><img alt="Data Manipulation Language" src="chap07_01.png"/></a></li>
</ul>
</li>
<li>Data Definition Language (DDL): Creates or alters schema and structure<ul>
<li>CREATE, DROP, ALTER, TRUNCATE, RENAME</li>
</ul>
</li>
<li>Transaction Control Language (TCL): Manages multiple DML commands from Bus. Rules in <strong>transactions</strong>.<ul>
<li>A <strong>transaction</strong> is a logical unit of work of set of DML commands.</li>
<li>COMMIT, ROLLBACK, SAVEPOINT
<a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="chap07_02.png"><img alt="Data Definition &amp; Transaction Control Language" src="chap07_02.png"/></a></li>
</ul>
</li>
<li>Data Control Language (DCL): Access Control, security and permissions.<ul>
<li>GRANT, REVOKE
<a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="chap07_03.png"><img alt="Data Control Language" src="chap07_03.png"/></a></li>
</ul>
</li>
</ul>
<h4 id="queries-and-operations">Queries and Operations<a class="headerlink" href="#queries-and-operations" title="Permanent link">¶</a></h4>
<details class="important sql note" open="open">
<summary>Important</summary>
<p>Most SQL data manipulation commands operate over an entire table/relation, which is why SQL commands are said to be <strong>set-oriented</strong> commands. This is important because it allows users to treat SQL commands like building blocks. Once you know the building blocks, you can put them together to declare more complex sets you want.</p>
</details>
<h3 id="intro-to-data-types">Intro to Data Types<a class="headerlink" href="#intro-to-data-types" title="Permanent link">¶</a></h3>
<ul>
<li>Data Type is basically the <strong>KIND</strong> of data that an attribute represents.</li>
<li>Different RDBMs have similar and different data types, but all DB types fall under 3 categories:</li>
</ul>
<h4 id="3-fundamental-types-of-data">3 Fundamental Types of Data<a class="headerlink" href="#3-fundamental-types-of-data" title="Permanent link">¶</a></h4>
<ul>
<li>Character data: Any printable characters such as alphabetic values, digits, punctuation, and special characters.</li>
<li>Numeric data: digits, such that the data has a specific numeric value.</li>
<li>Date data: DATES and Times ;-)</li>
</ul>
<h3 id="retrieval-select-query">Retrieval (SELECT Query)<a class="headerlink" href="#retrieval-select-query" title="Permanent link">¶</a></h3>
<h4 id="basic-terms">Basic Terms<a class="headerlink" href="#basic-terms" title="Permanent link">¶</a></h4>
<ul>
<li>SELECT: specifies the attributes to be returned by the query</li>
<li>FROM: specifies the table(s) from which the data will be retrieved</li>
<li>WHERE: filters the rows of data based on provided criteria</li>
<li>GROUP BY: groups the rows of data into collections based on sharing the same values in one or more attributes</li>
<li>HAVING: filters the groups formed in the GROUP BY clause based on provided criteria</li>
<li>ORDER BY: sorts the final query result rows in ascending or descending order based on the values of one or more attributes.</li>
</ul>
<h4 id="basic-structure">Basic Structure<a class="headerlink" href="#basic-structure" title="Permanent link">¶</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span></pre></div></td><td class="code"><div><pre><span></span><code>SELECT [wildcard | column-list] FROM [table-list];
</code></pre></div></td></tr></table></div>
<ul>
<li>Column-list: Relational projection of attributes to return.</li>
<li>Table-list: Relations to be joined in query. </li>
<li>Wildcard: “*” characters used to designate ALL columns in the relations.</li>
</ul>
<h4 id="examples">Examples<a class="headerlink" href="#examples" title="Permanent link">¶</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code># Get all rows and columns from product table.
SELECT * FROM Product;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code># Get all rows but only columns P_CODE, P_DESCRIPT, P_PRICE, and P_QOH  from product table.
SELECT P_CODE, P_DESCRIPT, P_PRICE, P_QOH FROM Product;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code># Get all rows but only columns P_CODE, P_DESCRIPT, P_PRICE, and P_QOH  from product table.
# Alias/Rename the resulting columns in the relation to: Id, Description, Price, and Qty.
SELECT P_CODE AS Id, P_DESCRIPT AS Description, P_PRICE AS Price, P_QOH AS Qty FROM Product;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code># Get all rows but only columns P_DESCRIPT, P_QOH, P_PRICE, and derived/calculated column INV_VAL  from product table.
SELECT P_DESCRIPT, P_QOH, P_PRICE, P_QOH * P_PRICE AS INV_VAL FROM PRODUCT;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code># Get a list of products and the warranty cutoff date for products
# Swap out Date function as needed based on RDBMS Access: DATE(), SQL Server: GETDATE(), MySQL: CURDATE(), Oracle: SYSDATE 
SELECT P_CODE, P_INDATE, SYSDATE – 90 AS CUTOFF FROM PRODUCT;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code># Select all the UNIQUE vendors that have products (i.e. DISTINCT removes repeats).
SELECT DISTINCT V_CODE FROM PRODUCT;
</code></pre></div></td></tr></table></div>
<h4 id="other-notes">Other Notes<a class="headerlink" href="#other-notes" title="Permanent link">¶</a></h4>
<ul>
<li>When using Arithmetic Operators in derived/calculated columns PEMDAS applies.</li>
<li>Dates are typically stored as a number in RDBMs as the number of days since a specific date in history.<ul>
<li>Thus Date arithmetic is + or - the number of days.</li>
</ul>
</li>
</ul>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="chap07_04.png"><img alt="SQL Arithmetic Operators" src="chap07_04.png"/></a></p>
<h3 id="joining">Joining<a class="headerlink" href="#joining" title="Permanent link">¶</a></h3>
<h4 id="basic-terms_1">Basic Terms<a class="headerlink" href="#basic-terms_1" title="Permanent link">¶</a></h4>
<ul>
<li>FROM: specifies the table(s) from which the data will be retrieved. Tables joined by PK/FK pairs or a auto selected common attribute..</li>
<li>NATURAL JOIN: returns all rows with matching values in the matching columns and eliminates duplicate columns.<ul>
<li>Joins on attributes with identical names and data-types</li>
<li>Joins only common values in chosen attribute(s)</li>
<li>Eliminates duplicate common attribute</li>
<li>If no common attributes, returns <strong>relational product</strong> of 2 tables (i.e. each row from table1 duplicated with each row of table2).</li>
<li>Usage is discouraged becuase table changes can affect common attribute joins</li>
</ul>
</li>
<li>JOIN USING: returns only the rows with matching values in the column indicated in the USING clause.<ul>
<li>The column must exist in both tables.</li>
<li>Eliminates duplicate common attribute</li>
<li>Only in MySQL and Oracle</li>
<li>Oracle doesn’t allow usage of table qualifiers can’t be used with the common attribute.</li>
</ul>
</li>
<li>JOIN ON: joins tables with no common attribute based on equality condition.<ul>
<li>Attributes equality condition must have the same data-type.</li>
<li>Preferred Join method because its the most widely supported.</li>
<li>Does NOT eliminate duplicate common attribute(s)</li>
<li>table qualifier must be used to referr to duplicate common attributes.</li>
</ul>
</li>
<li>OUTER JOINS:<ul>
<li>LEFT: returns not only the rows matching the join condition, but also the rows in the left table with unmatched values in the right table.</li>
<li>RIGHT: returns not only the rows matching the join condition, but also the rows in the right table with unmatched values in the left table.</li>
<li>FULL: returns not only the rows matching the join condition, but also the rows with unmatched values in the table on eithr side.<ul>
<li>Only supported by Oracle and SqlServer</li>
</ul>
</li>
</ul>
</li>
<li>CROSS JOIN: Cartesian/Relational Product, joins all rows from table1 to all rows in table2<ul>
<li>Not supported in Access</li>
</ul>
</li>
<li>TABLE ALIAS: A way of renaming a table in a query for 3 common purposes:<ul>
<li>Shortening names</li>
<li>Improving query human readability.</li>
<li>Recursive Joins (table joined to itself)</li>
</ul>
</li>
</ul>
<h4 id="basic-structure_1">Basic Structure<a class="headerlink" href="#basic-structure_1" title="Permanent link">¶</a></h4>
<ul>
<li>NATURAL JOIN: SELECT [column-list] FROM [table1] NATURAL JOIN [table2]</li>
<li>JOIN USING: SELECT [column-list] FROM [table1] JOIN [table2] USING ([common-column])</li>
<li>JOIN ON: SELECT [column-list] FROM [table1] JOIN [table2] ON [join-condition]</li>
<li>LEFT OUTER JOIN: SELECT [column-list] FROM [table1] LEFT OUTER JOIN [table2] ON [join-condition]</li>
<li>RIGHT OUTER JOIN: SELECT [column-list] FROM [table1] RIGHT OUTER JOIN [table2] ON [join-condition]</li>
<li>FULL OUTER JOIN: SELECT [column-list] FROM [table1] FULL OUTER JOIN [table2] ON [join-condition]</li>
<li>CROSS JOIN: SELECT [column-list] FROM [table1] CROSS JOIN [table2]</li>
</ul>
<h4 id="examples_1">Examples<a class="headerlink" href="#examples_1" title="Permanent link">¶</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code># Natural join to get all customers and their invoices joined on some auto selected common attribute.
SELECT CUS_CODE, CUS_LNAME, INV_NUMBER, INV_DATE FROM CUSTOMER NATURAL JOIN INVOICE;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code># Join Using to get product to vendor relation USING V_CODE.
SELECT P_CODE, P_DESCRIPT, V_CODE, V_NAME, V_AREACODE, V_PHONE FROM PRODUCT JOIN VENDOR USING (V_CODE);
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code># Joins Invoice and Line tables utilizing ON equality clause. 
SELECT INVOICE.INV_NUMBER, PRODUCT.P_CODE, P_DESCRIPT, LINE_UNITS, LINE_PRICE FROM INVOICE JOIN LINE ON INVOICE.INV_NUMBER = LINE.INV_NUMBER JOIN PRODUCT ON LINE.P_CODE = PRODUCT.P_CODE;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code># Demonstrating using table qualifiers to project duplicate common attributes.
SELECT P_CODE, VENDOR.V_CODE, V_NAME FROM PRODUCT JOIN VENDOR ON PRODUCT.V_CODE = VENDOR.V_CODE;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code># Result includes all product rows without matching vendors as well as all vendor rows without matching products
SELECT P_CODE, VENDOR.V_CODE, V_NAME FROM VENDOR FULL JOIN PRODUCT ON VENDOR. V_CODE = PRODUCT.V_CODE;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code># Combines all invoices with all invoice lines.
SELECT * FROM INVOICE CROSS JOIN LINE;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code># Example of a table alias to handle a recursive joining an employee to their manager
SELECT E.EMP_NUM, E.EMP_LNAME, E.EMP_MGR, M.EMP_LNAME FROM EMP E JOIN EMP M ON E.EMP_MGR = M.EMP_NUM;
</code></pre></div></td></tr></table></div>
<h3 id="sort-searchrestriction-criteria">Sort, Search/Restriction Criteria<a class="headerlink" href="#sort-searchrestriction-criteria" title="Permanent link">¶</a></h3>
<h4 id="basic-terms_2">Basic Terms<a class="headerlink" href="#basic-terms_2" title="Permanent link">¶</a></h4>
<ul>
<li>ORDER BY: Sorts result rows by list of columns in order from first to last in list.<ul>
<li>NULLS in order by column list results either come first or last depending on the RDBMS</li>
<li>Oracle allows ordering NULLS with <strong>ORDER BY column DESC NULLS LAST;</strong> or <strong>NULLS FIRST</strong></li>
</ul>
</li>
<li>WHERE: Adds conditional restrictions to SELECT or search criteria allowing limits to rows in query results.<ul>
<li><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="chap07_05.png"><img alt="Comparison Operators in Where clause" src="chap07_05.png"/></a><ul>
<li>Comparison Operators can be used on <strong>character</strong> data to compare alphebetically left-to-right.</li>
<li>Numbers or Dates stored incorrectly as character data can produce anomalies when comparison operators are used.</li>
</ul>
</li>
<li>Logical Operators (AND, OR, and NOT): Allow to test multiple conditions in WHERE condition list<ul>
<li>AND: Used in WHERE or HAVING clause, and all conditions must be true.</li>
<li>OR: Used in WHERE or HAVING clause, and any of the conditions must be true.</li>
<li>NOT: negates result of other conditions, turns TRUE to FALSE and vice versa</li>
<li>Logical operators can be combined, but must be organized with parenthesis.</li>
</ul>
</li>
</ul>
</li>
<li>Old Syle Joins: Joins that have a comma separated list of tables in the FROM clause and the join conditions in the WHERE clause.<ul>
<li>No longer recommended for 2 major reasons<ul>
<li>Splits joins between FROM and WHERE clauses making them less human readable.</li>
<li>Susceptable to undetected errors because RDBMS can’t determine if JOIN clauses actually exist syntactically.</li>
</ul>
</li>
</ul>
</li>
</ul>
<details class="note" open="open">
<summary>Note</summary>
<p>Most RDBMS search criteria are case sensitive, so its a good idea to wrap column with UPPER() functions before performing comparisons in the following Special Operators.</p>
</details>
<ul>
<li>Special Operators:<ul>
<li>BETWEEN: Used to check if value is in a range (Always list LOW test value first to avoid Empty results).</li>
<li>IN: Used to check if value is in a list.<ul>
<li>Used heavily in <strong>subqueries</strong> as a subquery can return the list of things to compare to.</li>
</ul>
</li>
<li>LIKE: Used to match a character pattern<ul>
<li>Like can use multiple wild-cards in its matches.</li>
<li>’%’ is a wild-card strings to match anything before, between, or after its appearance.</li>
<li>‘_’ is a wild-card to match just a single character wherever it appears.</li>
<li>Access uses ‘*’ and ‘?’ instead of ‘%’ and ‘_’</li>
</ul>
</li>
<li>IS NULL: Used to detect NULL values specifically.<ul>
<li>This operator is needed because using the = operator to compare to NULL is undefined, meaning it will always be false, thus yeilding empty results..</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="basic-structure_2">Basic Structure<a class="headerlink" href="#basic-structure_2" title="Permanent link">¶</a></h4>
<ul>
<li>ORDER By: SELECT [column-list] FROM [table-list] ORDER BY [column-list ASC | DESC];</li>
<li>WHERE: SELECT [columnlist] FROM [tablelist] WHERE [conditionlist] ORDER BY [columnlist ASC | DESC];</li>
<li>BETWEEN: SELECT [columnlist] FROM [tablelist] WHERE [column] (NOT) BETWEEN [min value] AND [max value];</li>
<li>IN: SELECT [columnlist] FROM [tablelist] WHERE [column] (NOT) IN ( [comma-sep-value-list] );</li>
<li>LIKE: SELECT [columnlist] FROM [tablelist] WHERE UPPER( [column] ) (NOT) LIKE [‘pattern to match’];</li>
<li>IS NULL: SELECT [columnlist] FROM [tablelist] WHERE [column] IS (NOT) NULL;</li>
</ul>
<h4 id="examples_2">Examples<a class="headerlink" href="#examples_2" title="Permanent link">¶</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code># Get list of products sorted by Price from High to Low.
SELECT P_CODE, P_DESCRIPT, P_QOH, P_PRICE
  FROM PRODUCT ORDER BY P_PRICE DESC;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code># Cascading order sequence lname, fname, then middle initial
SELECT EMP_LNAME, EMP_FNAME, EMP_INITIAL, EMP_AREACODE, EMP_PHONE
  FROM EMPLOYEE
ORDER BY EMP_LNAME, EMP_FNAME, EMP_INITIAL;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code># Order by with derived column/attribute
SELECT P_CODE, P_DESCRIPT, V_CODE, P_PRICE * P_QOH AS TOTAL
  FROM PRODUCT
ORDER BY V_CODE, TOTAL DESC;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code># Select product info for all vendors except 21344
SELECT P_DESCRIPT, P_QOH, P_PRICE, V_CODE FROM PRODUCT WHERE V_CODE &lt;&gt; 21344;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code># Date Query MSSQL
SELECT P_DESCRIPT, P_QOH, P_MIN, P_PRICE, P_INDATE FROM PRODUCT WHERE P_INDATE &gt;= '20-Jan-2018';
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code># Date Query MySQL
SELECT P_DESCRIPT, P_QOH, P_MIN, P_PRICE, P_INDATE FROM PRODUCT WHERE P_INDATE &gt;= '2018-01-21';
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code># Date Query Access
SELECT P_DESCRIPT, P_QOH, P_MIN, P_PRICE, P_INDATE FROM PRODUCT WHERE P_INDATE &gt;= #20-Jan-2018#;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code># Get all the products from Vendor 25595 and 24288 that are over $100
SELECT P_DESCRIPT, P_PRICE, V_CODE
  FROM PRODUCT WHERE (V_CODE = 25595 OR V_CODE = 24288) AND P_PRICE &gt; 100;
# Or with IN operator
SELECT * FROM PRODUCT WHERE V_CODE IN ('25595', '24288') AND P_PRICE &gt; 100;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code># Get vendors with a contact where the last name contains OS as the 2nd and 3rd characters.
SELECT V_NAME, V_CONTACT, V_AREACODE, V_PHONE FROM VENDOR WHERE UPPER(V_CONTACT) LIKE '_OS%';
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code># Get all products that don't have a vendor (i.e. NULL vendor).
SELECT P_CODE, P_DESCRIPT, V_CODE FROM PRODUCT WHERE V_CODE IS NULL;
</code></pre></div></td></tr></table></div>
<h3 id="aggregation">Aggregation<a class="headerlink" href="#aggregation" title="Permanent link">¶</a></h3>
<ul>
<li>Most aggregate functions take a <strong>single attribue</strong> as a parameter.</li>
<li>Aggregate functions generally take <strong>entire collection</strong> of rows from an <strong>attribute</strong> and reduce it to a <strong>single rowed result</strong>.</li>
</ul>
<p><a class="glightbox" data-desc-position="bottom" data-height="auto" data-width="100%" href="chap07_06.png"><img alt="Aggregate Functions" src="chap07_06.png"/></a></p>
<h4 id="basic-terms_3">Basic Terms<a class="headerlink" href="#basic-terms_3" title="Permanent link">¶</a></h4>
<ul>
<li>COUNT typically doesn’t count NULLs, so you’ll want COUNT(*) if you want a row count.</li>
<li>COUNT can be combined with DISTINCT to only count unique values e.g. <code>SELECT COUNT(DISTINCT V_CODE) AS CNT FROM PRODUCT;</code></li>
<li>MAX and MIN: Returns the maximum or minimum value of an attribute column.<ul>
<li>MAX and MIN are also great for getting oldest or newest dates</li>
</ul>
</li>
<li>SUM The sum of the values of a specified column<ul>
<li>Aggreget functions like SUM and AVG can also take <strong>derived</strong> values as their parameter, like (P_PRICE * P_QTY), which is the price of all QTY on hand.</li>
</ul>
</li>
<li>AVG The average of the values of a specified column</li>
<li>GROUP BY: Groups rows into smaller collections by a column list<ul>
<li>When used, Aggregate functions will <strong>operate</strong> on the <strong>grouped collections</strong> (i.e. creates <strong>frequency distributions</strong>). </li>
<li>Treats all NULLs as if they are the same when grouping.</li>
<li>Adding additional attributes to the Group By clause can cause the groups to change.</li>
</ul>
</li>
<li>HAVING: Allows for <strong>restricting data</strong> based on an aggregate value (i.e. a group by attribute value).<ul>
<li>Operates simlar to WHERE clause in standard SELECT, but WHERE applies to attributes of individual rows and HAVING applies to output of GROUP BY.</li>
<li>WHERE clauses execute before GROUP BY clause, therefore they can not affect aggregating or have aggregate functions</li>
<li>HAVING executes after GROUP BY</li>
<li>HAVING can not restrict some rows and leave others it affects all rows.</li>
<li>HAVING clauses often contain <strong>Aggregate Functions</strong> because they affect all rows and execute after GROUP BY.</li>
</ul>
</li>
</ul>
<h4 id="basic-structure_3">Basic Structure<a class="headerlink" href="#basic-structure_3" title="Permanent link">¶</a></h4>
<ul>
<li>GROUP BY: SELECT [columnlist] FROM [tablelist] WHERE [conditionlist] GROUP BY [columnlist] HAVING [group conditionlist] ORDER BY [columnlist ASC | DESC]</li>
</ul>
<h4 id="examples_3">Examples<a class="headerlink" href="#examples_3" title="Permanent link">¶</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code># Get a list of all unique vendors you sell products from
SELECT COUNT(DISTINCT V_CODE) AS "COUNT DISTINCT" FROM PRODUCT;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code># Get the highest and lowest prices in the product table
SELECT MAX(P_PRICE) AS MAXPRICE, MIN(P_PRICE) AS MINPRICE FROM PRODUCT;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code># Get Total still owed by customers
SELECT SUM(CUS_BALANCE) AS TOTBALANCE FROM CUSTOMER;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code># Get the average price of products in the product table
SELECT AVG(P_PRICE) AS AVGPRICE FROM PRODUCT;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code># Get average price of products by vendor
SELECT V_CODE, AVG(P_PRICE) AS AVGPRICE FROM PRODUCT GROUP BY V_CODE;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code># Get a count of products and averagre prices for each vendor
SELECT V_CODE, V_NAME, COUNT(P_CODE) AS NUMPROD, AVG(P_PRICE) AS AVGPRICE
  FROM PRODUCT JOIN VENDOR ON PRODUCT.V_CODE = VENDOR.V_CODE
GROUP BY V_CODE, V_NAME ORDER BY V_NAME;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span></pre></div></td><td class="code"><div><pre><span></span><code># Get the number of products in inventory by vendor that have a price average less than $10
SELECT V_CODE, V_NAME, COUNT(P_CODE) AS NUMPRODS
  FROM PRODUCT
GROUP BY V_CODE
  HAVING AVG(P_PRICE) &lt; 10
ORDER BY V_CODE;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code># Joins the product and vendor tables using V_CODE as the common attribute
# Restricts to only the rows with a discount greater than 0
# Groups the remaining rows into collections based on V_CODE and V_NAME
# Aggregates the total cost of products in each group
# Restricts to only the groups with totals that exceed $500
# Lists the results in descending order by the total cost
SELECT V_CODE, V_NAME, SUM(P_QOH * P_PRICE) AS TOTCOST
FROM PRODUCT JOIN VENDOR ON PRODUCT.V_CODE = VENDOR.V_CODE
WHERE P_DISCOUNT &gt; 0
GROUP BY V_CODE, V_NAME
HAVING (SUM(P_QOH * P_PRICE) &gt; 500)
ORDER BY SUM(P_QOH * P_PRICE) DESC;
</code></pre></div></td></tr></table></div>
<h3 id="subqueries-and-preprocessing">Subqueries and Preprocessing<a class="headerlink" href="#subqueries-and-preprocessing" title="Permanent link">¶</a></h3>
<ul>
<li>Subqueries are used to process data from other processed data.</li>
<li>Subqueries can be used in DML operations INSERT, UPDATE, and DELETE.</li>
<li>Subqueries are always on right side of <strong>comparison</strong> or <strong>assignment</strong> expression.</li>
<li>Subqueries can return a <strong>single value (1 col, 1row)</strong> or <strong>list of values (1 col, n rows)</strong> or **virtual table(m col, n rows)<ul>
<li>single value is the most common subquery and is most often used in <strong>conditional expressions (i.e. &gt;, &lt;, =, &gt;=, &lt;=)</strong> in the WHERE clause.<ul>
<li>The value returned must match the data-type of the comparison attribute on the LHS of the comparison.</li>
</ul>
</li>
<li>list of values often used with <strong>IN, ALL, or ANY</strong> operators in a <strong>WHERE</strong> clause.</li>
<li>virtual tables often used in DML opearations or nested SELECTs.</li>
</ul>
</li>
<li>Subqueries can be utilized in WHERE or HAVING classes.</li>
<li>You can use expressions (i.e. (A * B) &gt;= (subquery) ) instead of attribute columns in subqueries, and anywhere column attributes are expected.</li>
</ul>
<h4 id="basic-characteristics">Basic Characteristics<a class="headerlink" href="#basic-characteristics" title="Permanent link">¶</a></h4>
<ul>
<li>A subquery is a query (SELECT statement) inside another query.</li>
<li>A subquery is normally expressed inside parentheses.</li>
<li>The first query in the SQL statement is known as the outer query.</li>
<li>The query inside the SQL statement is known as the inner query.</li>
<li>The inner query is executed first.</li>
<li>The output of an inner query is used as the input for the outer query.</li>
<li>The entire SQL statement is sometimes referred to as a nested query.</li>
</ul>
<h4 id="basic-terms_4">Basic Terms<a class="headerlink" href="#basic-terms_4" title="Permanent link">¶</a></h4>
<ul>
<li>Subqueries with WHERE and HAVING (i.e. list of valuels)<ul>
<li>IN: list equality comparison</li>
<li>ALL: compares a single value with a list via comparison operator other than “=” (i.e. WHERE (A * B) &gt; ALL (subquery that returns a list)).</li>
<li>ANY: compares a single value with a list via comparison operator and selects ANY row that satisfies conditon (i.e. WHERE (A * B) &gt; ANY (subquery that returns a list)).</li>
</ul>
</li>
<li>Subqueries with FROM (i.e. virtual tables)<ul>
<li>SELECT FROM t1 JOIN (SELECT …) AS t2</li>
</ul>
</li>
<li>Correlated Subqueries<ul>
<li>Subqueries that use data from Outer query and execute for each row.</li>
</ul>
</li>
<li>EXISTS checks if a subquery returns rows<ul>
<li>Can be use with correlated or uncorrelated subqueries</li>
<li>USUALLY used with correlated subqueries</li>
</ul>
</li>
</ul>
<h4 id="basic-structure_4">Basic Structure<a class="headerlink" href="#basic-structure_4" title="Permanent link">¶</a></h4>
<h4 id="examples_4">Examples<a class="headerlink" href="#examples_4" title="Permanent link">¶</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span></pre></div></td><td class="code"><div><pre><span></span><code># 1 way to get all vendors that haven't provided products
SELECT V_CODE, V_NAME FROM PRODUCT RIGHT JOIN VENDOR ON PRODUCT.V_CODE = VENDOR.V_CODE WHERE P_CODE IS NULL;
# Subquery method to get all vendors that haven't provided products
# Sub query answers, get all vendors that do provide products.
SELECT V_CODE, V_NAME FROM VENDOR WHERE V_CODE NOT IN (SELECT V_CODE FROM PRODUCT WHERE V_CODE IS NOT NULL);
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code># Get a list of products with price greater than the average product price.
# Sub query answers, what is average price for all products
SELECT P_CODE, P_PRICE FROM PRODUCT WHERE P_PRICE &gt;= (SELECT AVG(P_PRICE) FROM PRODUCT);
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span></pre></div></td><td class="code"><div><pre><span></span><code># Find the product with the greatest inventory value.
SELECT * FROM PRODUCT WHERE P_QOH * P_PRICE = (SELECT MAX(P_QOH * P_PRICE) FROM PRODUCT);
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code># Find customers who ordered a claw hammer (i.e. subquery used w/ joins)
SELECT DISTINCT CUS_CODE, CUS_LNAME, CUS_FNAME
  FROM CUSTOMER JOIN INVOICE USING (CUS_CODE)
                JOIN LINE USING (INV_NUMBER)
                JOIN PRODUCT USING (P_CODE)
  WHERE
    P_CODE = (SELECT P_CODE FROM PRODUCT WHERE P_ DESCRIPT = 'Claw hammer');
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span>
<span class="normal">9</span></pre></div></td><td class="code"><div><pre><span></span><code># Find all customers who ordered hammers, saws, or saw blades (i.e. need to use IN for subquery)
SELECT
DISTINCT CUSTOMER.CUS_CODE, CUS_LNAME, CUS_FNAME
FROM
CUSTOMER JOIN INVOICE ON CUSTOMER.CUS_CODE = INVOICE.CUS_CODE
         JOIN LINE ON INVOICE.INV_NUMBER = LINE.INV_NUMBER
         JOIN PRODUCT ON LINE.P_CODE = PRODUCT.P_CODE
WHERE P_CODE IN (
  SELECT P_CODE FROM PRODUCT WHERE P_DESCRIPT LIKE '%hammer%' OR P_DESCRIPT LIKE '%saw%');
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span></pre></div></td><td class="code"><div><pre><span></span><code># List all products with a total quantity sold greater than the average quantity sold
SELECT P_CODE, SUM(LINE_UNITS) AS TOTALUNITS FROM LINE
GROUP BY P_CODE HAVING SUM(LINE_UNITS) &gt; (SELECT AVG(LINE_UNITS) FROM LINE);
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span>
<span class="normal">12</span></pre></div></td><td class="code"><div><pre><span></span><code># Select all customers who purchased 2 different products (i.e. subquery in FROM, virtual tables).
SELECT DISTINCT CUSTOMER.CUS_CODE, CUSTOMER.CUS_LNAME
FROM CUSTOMER JOIN
        (SELECT INVOICE.CUS_CODE FROM INVOICE JOIN LINE ON
         INVOICE.INV_NUMBER = LINE.INV_NUMBER
         WHERE P_CODE = '13-Q2/P2') CP1
     ON CUSTOMER.CUST_CODE = CP1.CUS_CODE
     JOIN
        (SELECT INVOICE.CUS_CODE FROM INVOICE JOIN LINE ON
        INVOICE.INV_NUMBER = LINE.INV_NUMBER
        WHERE P_CODE = '23109-HB') CP2
     ON CP1.CUS_CODE = CP2.CUS_CODE;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span></pre></div></td><td class="code"><div><pre><span></span><code># Get the difference in the price of a product and its averate (i.e. inline subquery, single value, can't use alias in derived columns).
SELECT P_CODE, P_PRICE, (SELECT AVG(P_PRICE) FROM PRODUCT) AS AVGPRICE,
       P_PRICE – (SELECT AVG(P_PRICE) FROM PRODUCT) AS DIFF
FROM PRODUCT;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 1</span>
<span class="normal"> 2</span>
<span class="normal"> 3</span>
<span class="normal"> 4</span>
<span class="normal"> 5</span>
<span class="normal"> 6</span>
<span class="normal"> 7</span>
<span class="normal"> 8</span>
<span class="normal"> 9</span>
<span class="normal">10</span>
<span class="normal">11</span></pre></div></td><td class="code"><div><pre><span></span><code># Get all product sales in which the units sold value is greater than the average units sold value for that product (as opposed to the average for all products):
# 1. Compute the average units sold for a product.
# 2. Compare the average computed in Step 1 to the units sold in each sale row, and then select only the rows in which the number of units sold is greater.
SELECT INV_NUMBER, P_CODE, LINE_UNITS,
      (SELECT AVG(LINE_UNITS)
       FROM LINE LX
       WHERE LX.P_CODE = LS.P_CODE) AS AVG
FROM LINE LS
WHERE LS.LINE_UNITS &gt; (SELECT AVG(LINE_UNITS)
                       FROM LINE LA
                       WHERE LA.P_CODE = LS.P_CODE);
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code># Get the vendor code and vendor name for products with a quantity on hand that is less than double the minimum quantity (i.e. EXISTS on correlated query example).
# 1. The inner correlated subquery runs using the first vendor.
# 2. If any products match the condition (the quantity on hand is less than double the minimum quantity), the vendor code and name are listed in the output.
# 3. The correlated subquery runs using the second vendor, and the process repeats itself until all vendors are used.
SELECT V_CODE, V_NAME
FROM VENDOR
WHERE EXISTS (
    SELECT * FROM PRODUCT WHERE P_QOH &lt; P_MIN * 2 AND VENDOR.V_CODE = PRODUCT.V_CODE);
</code></pre></div></td></tr></table></div>
<h3 id="data-manipulation-functions">Data Manipulation Functions<a class="headerlink" href="#data-manipulation-functions" title="Permanent link">¶</a></h3>
<ul>
<li>Functions can decompose data elements (i.e. parts of date data).</li>
<li>Functions can convert data element type (i.e. parsing integers).</li>
<li>Functions <strong>VARY</strong> greatly between DBMS vendors.</li>
<li>Functions always use a numerical, date, or string value.</li>
<li>A function may appear anywhere in a SQL statement where a value or an attribute can be used.</li>
<li>There are many types of SQL functions, such as arithmetic, trigonometric, string, date, and time functions.</li>
</ul>
<h4 id="common-function-types">Common Function Types<a class="headerlink" href="#common-function-types" title="Permanent link">¶</a></h4>
<ul>
<li>Date and Time Functions:<ul>
<li>SQL Server: GETDATE, YEAR, MONTH, DAY, DATEDIFF</li>
<li>ORACLE: TO_DATE, SYSDATE, ADD_MONTHS, LAST_DAY</li>
<li>MySQL: Date_Format, YEAR, MONTH, DAY, DATE_ADD</li>
</ul>
</li>
<li>Conversion Functions<ul>
<li>SQL Server: CONVERT, CAST, CASE</li>
<li>ORACLE: CAST, CASE, TO_CHAR, TO_DATE, TO_NUMBER, DECODE</li>
<li>MySQL CONVERT, CAST, CASE</li>
</ul>
</li>
<li>Numeric Functions<ul>
<li>ALL DBMS: ABS, ROUND, CEIL, FLOOR</li>
</ul>
</li>
<li>String Functions<ul>
<li>SQL Server: Concatenation is +, UPPER, LOWER, SUBSTRING, LEN</li>
<li>ORACLE: Concatenation is ||, UPPER, LOWER, SUBSTR, LENGTH</li>
<li>MySQL : CONCAT, UPPER, LOWER, SUBSTR, LENGTH</li>
</ul>
</li>
</ul>
<h3 id="relational-set-operators">Relational Set Operators<a class="headerlink" href="#relational-set-operators" title="Permanent link">¶</a></h3>
<h4 id="basic-terms_5">Basic Terms<a class="headerlink" href="#basic-terms_5" title="Permanent link">¶</a></h4>
<ul>
<li>UNION: Same as relational set <strong>union</strong>.</li>
<li>INTERSECT: Same as relational set <strong>intersect</strong>.</li>
<li>EXCEPT/MINUS: Similar to relational set <strong>difference</strong>.</li>
</ul>
<h4 id="basic-structure_5">Basic Structure<a class="headerlink" href="#basic-structure_5" title="Permanent link">¶</a></h4>
<ul>
<li>UNION: query UNION query</li>
<li>INTERSECT: query INTERSECT query<ul>
<li>If DBMS has NO INTERSECT: SELECT some_att FROM some_tab WHERE some_att IN (SELECT DISTINCT some_att FROM some_other_tab);</li>
</ul>
</li>
<li>EXCEPT/MINUS: query MINUS query, query EXCEPT query<ul>
<li>If DBMS has NO MINUS/EXCEPT: SELECT some_att FROM some_tab WHERE some_att NOT IN (SELECT DISTINCT some_att FROM some_other_tab);</li>
</ul>
</li>
</ul>
<h4 id="examples_5">Examples<a class="headerlink" href="#examples_5" title="Permanent link">¶</a></h4>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span>
<span class="normal">8</span></pre></div></td><td class="code"><div><pre><span></span><code># Combine 2 separate customer tables as one, but eliminate duplicates (UNION ALL if you want duplicates).
# Column data-types and count must match.
# WARNING: Some DBMSs don't eliminate duplicates.
SELECT CUS_LNAME, CUS_FNAME, CUS_INITIAL, CUS_AREACODE, CUS_PHONE
FROM CUSTOMER
UNION
SELECT CUS_LNAME, CUS_FNAME, CUS_INITIAL, CUS_AREACODE,
CUS_PHONE FROM CUSTOMER_2;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code># Find all the common customer rows between the separate customer tables.
# Column data-types and count must match.
SELECT CUS_LNAME, CUS_FNAME, CUS_INITIAL, CUS_AREACODE, CUS_PHONE
FROM CUSTOMER
INTERSECT
SELECT CUS_LNAME, CUS_FNAME, CUS_INITIAL, CUS_AREACODE,
CUS_PHONE FROM CUSTOMER_2;
</code></pre></div></td></tr></table></div>
<div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">1</span>
<span class="normal">2</span>
<span class="normal">3</span>
<span class="normal">4</span>
<span class="normal">5</span>
<span class="normal">6</span>
<span class="normal">7</span></pre></div></td><td class="code"><div><pre><span></span><code># Find all the customers in Customer table not in Customer_2
# MINUS is Oracle specific, SQL Server uses EXCEPT
SELECT CUS_LNAME, CUS_FNAME, CUS_INITIAL, CUS_AREACODE, CUS_PHONE
FROM CUSTOMER
MINUS
SELECT CUS_LNAME, CUS_FNAME, CUS_INITIAL, CUS_AREACODE,
CUS_PHONE FROM CUSTOMER_2;
</code></pre></div></td></tr></table></div>
<h3 id="key-query-principles">Key Query Principles<a class="headerlink" href="#key-query-principles" title="Permanent link">¶</a></h3>
<ul>
<li>Know Your Data: Data in the real-world is often not well formed (i.e. missing PKs, FKs, Unormalized), so to be productive, you have know know it inside out.</li>
<li>Know the Problem: Make sure the person asking the question knows what they are asking for because there are different ways to interpret data.</li>
<li>Build One Clause at a Time: If you know your data and understand the problem, map out your query in this order: FROM, WHERE, GROUP BY, HAVING, SELECT, ORDER BY<ul>
<li>This will help break the problem down into manageable single clauses.</li>
</ul>
</li>
</ul>
</article>
</div>
</div>
</main>
<!-- Footer -->
<footer class="md-footer">
<!-- Further information -->
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<!-- Copyright and theme information -->
<div class="md-copyright">
<div class="md-copyright__highlight">
      ©2022 THartmanOfTheRedwoods Wiki, All rights reserved.
    </div>
  
  
    Made by
    <a href="https://github.com/viable-hartman/" rel="noopener" target="_blank">
      Trevor Hartman
    </a>
</div>
<!-- Social links -->
<div class="md-social">
<a class="md-social__link" href="https://github.com/THartmanOfTheRedwoods" rel="noopener" target="_blank" title="Github">
<svg viewbox="0 0 496 512" xmlns="http://www.w3.org/2000/svg"><!--! Font Awesome Free 6.3.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg>
</a>
<a class="md-social__link" href="mailto:trevor-hartman@redwoods.edu" rel="noopener" target="_blank" title="">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="m20 8-8 5-8-5V6l8 5 8-5m0-2H4c-1.11 0-2 .89-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2Z"></path></svg>
</a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<script id="__config" type="application/json">{"base": "..", "features": ["search.suggest", "search.highlight", "search.share", "navigation.indexes", "navigation.instant", "navigation.tabs", "navigation.tabs.sticky"], "search": "../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": "1.0.0"}</script>
<script src="../assets/javascripts/bundle.2a6f1dda.min.js"></script>
<script>document$.subscribe(() => {const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});})</script></body>
</html>